{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from\"react-redux\";import{getData}from'../redux/actions/fetchData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ShowData=function ShowData(){// get data\nvar dispatch=useDispatch();useEffect(function(){dispatch(getData());},[dispatch]);// update data everytime\nuseEffect(function(){setInterval(function(){dispatch(getData());},180000);},[]);// get data\nvar _useSelector=useSelector(function(state){return state.posts;}),data=_useSelector.data;var totalCases=0,totalDeaths=0,totalRecovered=0;// get data\nvar dataSort={};if(data!=null){// sort data\ndataSort=data.sort(function(val1,val2){return val2.cases-val1.cases;});// get index of VN\nvar indexVN=dataSort.findIndex(function(data){return data.country==='Vietnam';});// get element VN\nvar reindexVN=dataSort.splice(indexVN,1);// reindex of VN\ndataSort.unshift(reindexVN[0]);// arr has 10 element\ndataSort.length=10;// total\ndata.map(function(val){totalCases+=val.cases;totalDeaths+=val.deaths;totalRecovered+=val.recovered;});}else{console.log('Loading');}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\u1ED5ng s\\u1ED1 ca nhi\\u1EC5m\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\u1ED5ng s\\u1ED1 t\\u1EED vong\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\u1ED5ng s\\u1ED1 ca kh\\u1ECFi\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:totalCases}),/*#__PURE__*/_jsx(\"td\",{children:totalDeaths}),/*#__PURE__*/_jsx(\"td\",{children:totalRecovered})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Qu\\u1ED1c Gia\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"S\\u1ED1 ca m\\u0103c\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"T\\u1EED vong\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"B\\xECnh ph\\u1EE5c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.keys(dataSort).length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"\\\"Loandingg\\\"\"})}):dataSort.map(function(val,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{src:val.countryInfo.flag,width:\"30\"}),/*#__PURE__*/_jsx(\"span\",{children:val.country})]}),/*#__PURE__*/_jsx(\"td\",{children:val.cases}),/*#__PURE__*/_jsx(\"td\",{children:val.deaths}),/*#__PURE__*/_jsx(\"td\",{children:val.recovered})]},index);})})]})]});};export default/*#__PURE__*/React.memo(ShowData);","map":{"version":3,"sources":["E:/Tuanh/React Js/project_covid/src/components/ShowData.js"],"names":["React","useEffect","useSelector","useDispatch","getData","ShowData","dispatch","setInterval","state","posts","data","totalCases","totalDeaths","totalRecovered","dataSort","sort","val1","val2","cases","indexVN","findIndex","country","reindexVN","splice","unshift","length","map","val","deaths","recovered","console","log","Object","keys","index","countryInfo","flag","memo"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getData } from '../redux/actions/fetchData';\r\n\r\nconst ShowData = () => {\r\n    // get data\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n      dispatch(getData());\r\n    }, [dispatch]);\r\n\r\n    // update data everytime\r\n    useEffect(() => {\r\n        setInterval(function(){\r\n          dispatch(getData());\r\n        }, 180000);\r\n    }, []);\r\n\r\n    // get data\r\n    const {data} = useSelector((state) => state.posts);\r\n    let totalCases = 0,\r\n        totalDeaths = 0,\r\n        totalRecovered = 0;\r\n\r\n    // get data\r\n    let dataSort = {};\r\n    if (data != null) {\r\n        // sort data\r\n        dataSort = data.sort((val1, val2) => val2.cases-val1.cases);\r\n        // get index of VN\r\n        let indexVN = dataSort.findIndex(data => data.country === 'Vietnam');\r\n        // get element VN\r\n        let reindexVN = dataSort.splice(indexVN, 1);\r\n        // reindex of VN\r\n        dataSort.unshift(reindexVN[0]);\r\n        // arr has 10 element\r\n        dataSort.length = 10;\r\n        // total\r\n        data.map(val => {\r\n            totalCases+=val.cases;\r\n            totalDeaths+=val.deaths;\r\n            totalRecovered+=val.recovered;\r\n        })\r\n    } else {\r\n        console.log('Loading');\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <table className=\"table table-dark\">\r\n            <thead className=\"thead-dark\">\r\n                <tr>\r\n                    <th scope=\"col\">Tổng số ca nhiễm</th>\r\n                    <th scope=\"col\">Tổng số tử vong</th>\r\n                    <th scope=\"col\">Tổng số ca khỏi</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>{totalCases}</td>\r\n                    <td>{totalDeaths}</td>\r\n                    <td>{totalRecovered}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <br/>\r\n        <table className=\"table table-dark\">\r\n            <thead className=\"thead-dark\">\r\n                <tr>\r\n                    <th scope=\"col\">STT</th>\r\n                    <th scope=\"col\">Quốc Gia</th>\r\n                    <th scope=\"col\">Số ca măc</th>\r\n                    <th scope=\"col\">Tử vong</th>\r\n                    <th scope=\"col\">Bình phục</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n            {\r\n                Object.keys(dataSort).length === 0 ? <tr><td>\"Loandingg\"</td></tr> : dataSort.map((val, index) => ( \r\n                    <tr key={index}>\r\n                        <th scope=\"row\">{index}</th>\r\n                        <td>\r\n                            <img src={val.countryInfo.flag} width=\"30\"/>  \r\n                            <span>{val.country}</span>\r\n                        </td>\r\n                        <td>{val.cases}</td>\r\n                        <td>{val.deaths}</td>\r\n                        <td>{val.recovered}</td>\r\n                    </tr>\r\n                ))\r\n            }\r\n            </tbody>\r\n        </table>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default React.memo(ShowData);"]},"metadata":{},"sourceType":"module"}